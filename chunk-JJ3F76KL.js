import{a as pe,g as me}from"./chunk-M36XD4TA.js";import{b as Se,c as y,f as Me}from"./chunk-GHGXLN5G.js";import{A as z,Aa as ee,Ac as de,Ba as b,D as I,E as G,Fb as _,Gb as N,Gc as s,H as Y,Hb as se,Ic as ue,Jc as ge,Kc as fe,Lc as he,Mb as ce,Mc as be,Nc as ye,Pc as Ce,Qc as ve,Rc as Oe,S as $,Sa as F,Sc as _e,T as x,Tc as Te,Uc as Ee,Va as v,Vc as H,W as j,Z as V,aa as a,bb as te,cb as ne,e as p,ea as W,f as m,g as u,ga as J,gb as R,i as S,j as Z,jb as k,lb as ie,ma as X,nb as oe,ob as f,pb as O,qb as L,sa as K,u as q,uc as le,va as Q,vb as re,w as M,wb as ae}from"./chunk-LZBUBRQG.js";function A(e){e||(X(A),e=a(Q));let t=new Z(n=>e.onDestroy(n.next.bind(n)));return n=>n.pipe($(t))}var we=(()=>{var t,n;let i=class i{constructor(){m(this,t);m(this,n);u(this,t,a(pe)),u(this,n,C=>{let{endpoint:c,method:r,headers:g,body:l}=C;return p(this,t).request(r,c,{headers:g,body:l})}),this.httpFetcher=p(this,n).bind(this)}};t=new WeakMap,n=new WeakMap,i.\u0275fac=function(c){return new(c||i)},i.\u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),U=(()=>{let t=class t{constructor(){this.onHostClicked=ee()}onClick(){this.onHostClicked.emit()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=J({type:t,selectors:[["","duiCommonEmitOnClick",""]],hostBindings:function(o,C){o&1&&re("click",function(r){return C.onClick(r)})},outputs:{onHostClicked:"onHostClicked"},standalone:!0});let e=t;return e})(),je=()=>S(I(e=>e.type==="MISSING_LAYOUT_TEMPLATE")),Fe=()=>S(I(e=>e.type==="MISSING_REMOTE_RESOURCE_TEMPLATE")),Le=()=>S(I(e=>e.type==="MISSING_UI_ELEMENT_TEMPLATE")),Ne=()=>S(I(e=>e.type==="UI_ELEMENT_REPOSITION")),He=s.strictObject({remoteResourceId:s.string()},{errorMap:()=>({message:'Invalid triggerRemoteResource action hook payload, example: { "type": "triggerRemoteResource", "payload": { "remoteResourceId": "123" }  } '})}),Ae=s.strictObject({scope:ve,data:Se},{errorMap:()=>({message:'Invalid addToState action hook payload, example: { "type": "addToState", "payload": { "scope": "global", data: "{ "some": "data" }" }  } '})}),Be=s.strictObject({navigationType:s.union([s.literal("internal"),s.literal("external")]),url:s.string()},{errorMap:()=>({message:'Invalid navigate action hook payload, example: { "type": "navigate", "payload": { "navigationType": "internal", url: "/my/route" }  } '})}),Ze=(()=>{var t,n,i;let o=class o{constructor(){m(this,t);m(this,n);m(this,i);u(this,t,a(Te)),u(this,n,a(Oe)),u(this,i,a(me)),this.handleTriggerRemoteResource=({remoteResourceId:c})=>{p(this,t).triggerResource(c)},this.handleAddToState=c=>{p(this,n).addToState(c)},this.navigate=({navigationType:c,url:r})=>{c==="internal"?p(this,i).navigateByUrl(r):window.open(r,"_blank")?.focus()}}};t=new WeakMap,n=new WeakMap,i=new WeakMap,o.\u0275fac=function(r){return new(r||o)},o.\u0275prov=j({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})(),qe=new V("DUI_COMMON_SETUP_CONFIG"),ze=()=>{let e=a(Ze),t=a(ye),n={addToState:{handler:e.handleAddToState,payloadParser:Ae},triggerRemoteResource:{handler:e.handleTriggerRemoteResource,payloadParser:He},navigate:{handler:e.navigate,payloadParser:Be}};t.registerHooks(n)},Ge=()=>{let e=a(we).httpFetcher;a(Ce).registerFetcher("httpFetcher",e)},Ye=e=>{let{getLayoutTemplate:t,getUiElementTemplate:n,getRemoteResourceTemplate:i,updateElementsPositionsHandler:o}=e,C=a(fe),c=a(be),r=a(Ee),g=a(_e),l=C.getEvents().pipe(A());if(t&&l.pipe(je(),M(d=>{let h=d.payload.id;return c.startRegisteringLayoutTemplate(h),t(h)}),x(d=>c.registerLayoutTemplate(d))).subscribe(),n&&l.pipe(Le(),M(d=>{let h=d.payload.id;return n(h)}),x(d=>{r.registerUIElementTemplate(d)})).subscribe(),i&&l.pipe(Fe(),M(d=>{let h=d.payload.id;return i(h)}),x(d=>g.registerRemoteResourceTemplate(d))).subscribe(),o){let T=l.pipe(Ne()),d=T.pipe(Y(3e3));T.pipe(G(d),q(D=>D.reduce((E,P)=>{let{payload:{elementId:w,layoutId:Ue,newPositionAndSize:De}}=P;return E=ue(E,`${Ue}.${w}`,De),E},{})),M(D=>{let E=Object.entries(D).map(([P,w])=>o(P,w));return z(E)})).subscribe()}},$e=e=>{let t=a(H);for(let[n,i]of Object.entries(e))t.registerUIElement({type:n,component:i})},Ve=e=>{let t=a(H);for(let[n,i]of Object.entries(e))t.registerUIElementLoader({type:n,loader:i})},Mt=()=>{let e;try{e=a(qe)}catch{he("No configs was provided for DUI default setup, please provide values for the DUI_COMMON_SETUP_CONFIG token");return}ze(),Ge();let{templatesHandlers:t,componentsMap:n,componentLoadersMap:i}=e;t&&Ye(t),n&&$e(n),i&&Ve(i)};function Je(e,t){e&1&&(f(0,"span"),_(1,"Loading..."),O())}function Xe(e,t){e&1&&(f(0,"span"),_(1,"Something went wrong"),O())}function Ke(e,t){if(e&1&&L(0,"img",8),e&2){let n=t.ngIf;k("src",n,F)}}function Qe(e,t){if(e&1&&L(0,"img",9),e&2){let n=t.ngIf;k("src",n,F)}}function et(e,t){if(e&1&&(f(0,"section",0),R(1,Ke,1,1,"img",1),f(2,"div",2)(3,"h4",3),_(4),O(),f(5,"span",4),_(6),O()()(),f(7,"section",5),R(8,Qe,1,1,"img",6),f(9,"div",7),_(10),O()()),e&2){let n=ae();v(),k("ngIf",n.avatarUrlConfigOption()),v(3),N(n.titleConfigOption()),v(2),N(n.subTitleConfigOption()),v(2),k("ngIf",n.imageUrlConfigOption()),v(2),se(" ",n.bodyConfigOption()," ")}}var Ie=s.string({errorMap:()=>({message:"Card title must be a string"})}),B=s.string({errorMap:()=>({message:"Card sub title must be a string"})}),tt=s.string({errorMap:()=>({message:"Avatar url must be a string"})}),ke=s.string({errorMap:()=>({message:"Image url must be a string"})}),xe=s.string({errorMap:()=>({message:"Card body must be a string"})}),Re=s.boolean({errorMap:()=>({message:"Card clickable config must be a boolean"})}),Nt=s.object({title:Ie,subTitle:B,avatarUrl:tt,imageUrl:ke,body:xe,clickable:Re}),Ht=(()=>{var t,n,i;let o=class o extends ge{constructor(){super(...arguments);m(this,t);m(this,n);m(this,i);u(this,t,"Default card title"),this.titleConfigOption=b(p(this,t),{alias:"title",transform:r=>y(Ie,r,p(this,t))}),this.subTitleConfigOption=b("",{alias:"subTitle",transform:r=>y(B,r,"")}),this.avatarUrlConfigOption=b("",{alias:"avatarUrl",transform:r=>y(B,r,"")}),this.imageUrlConfigOption=b("",{alias:"imageUrl",transform:r=>y(ke,r,"")}),u(this,n,"Default card body"),this.bodyConfigOption=b(p(this,n),{alias:"body",transform:r=>y(xe,r,p(this,t))}),u(this,i,!1),this.clickableConfigOption=b(p(this,i),{alias:"clickable",transform:r=>y(Re,r,p(this,i))}),this.onCardClicked=a(U).onHostClicked}getElementType(){return o.ELEMENT_TYPE}getSymbol(){return o.ELEMENT_SYMBOL}};t=new WeakMap,n=new WeakMap,i=new WeakMap,o.ELEMENT_TYPE="CARBON_TEXT_CARD",o.ELEMENT_SYMBOL=Me,o.\u0275fac=(()=>{let r;return function(l){return(r||(r=K(o)))(l||o)}})(),o.\u0275cmp=W({type:o,selectors:[["namnguyen191-carbon-text-card"]],hostVars:2,hostBindings:function(g,l){g&2&&ie("clickable",l.clickableConfigOption())},inputs:{titleConfigOption:[1,"title","titleConfigOption"],subTitleConfigOption:[1,"subTitle","subTitleConfigOption"],avatarUrlConfigOption:[1,"avatarUrl","avatarUrlConfigOption"],imageUrlConfigOption:[1,"imageUrl","imageUrlConfigOption"],bodyConfigOption:[1,"body","bodyConfigOption"],clickableConfigOption:[1,"clickable","clickableConfigOption"]},standalone:!0,features:[ne([U]),te,ce],decls:3,vars:1,consts:[[1,"card-header"],["class","card-header__avatar",3,"src",4,"ngIf"],[1,"card-header__text"],[1,"card-header__text__title"],[1,"card-header__text__sub-title"],[1,"card-body"],["class","card-body__image",3,"src",4,"ngIf"],[1,"card-body__text"],[1,"card-header__avatar",3,"src"],[1,"card-body__image",3,"src"]],template:function(g,l){g&1&&R(0,Je,2,0,"span")(1,Xe,2,0,"span")(2,et,11,5),g&2&&oe(l.isLoadingConfigOption()?0:l.isErrorConfigOption()?1:2)},dependencies:[de,le],styles:["[_nghost-%COMP%]{display:flex;height:100%;flex-direction:column;border:1px solid var(--cds-border-subtle);border-radius:1rem;background:var(--cds-background);color:var(--cds-text-primary)}.clickable[_nghost-%COMP%]{cursor:pointer}.clickable[_nghost-%COMP%]:hover{background-color:var(--cds-background-active)}.clickable[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%]{filter:drop-shadow(2px 4px 6px black)}[_nghost-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.5rem 1rem;display:flex;height:fit-content;align-items:center;gap:.75rem}[_nghost-%COMP%]   .card-header__avatar[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%}[_nghost-%COMP%]   .card-header__text__title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}[_nghost-%COMP%]   .card-header__text__sub-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;line-height:1.28572;letter-spacing:.16px;color:var(--cds-text-secondary)}[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}[_nghost-%COMP%]   .card-body__image[_ngcontent-%COMP%]{aspect-ratio:5/4}[_nghost-%COMP%]   .card-body__text[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0;padding:.5rem 1rem;white-space:pre-wrap}"],changeDetection:0});let e=o;return e})();export{A as a,Ne as b,qe as c,Mt as d,Ie as e,B as f,tt as g,ke as h,xe as i,Re as j,Nt as k,Ht as l};
